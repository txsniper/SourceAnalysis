详细讲解见 http://blog.csdn.net/droidphone/article/category/1118447